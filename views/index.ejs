
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.84.0">
    <title>Coway Smart Fair</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/5.0/examples/checkout/">

    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://unpkg.com/gijgo@1.9.14/js/gijgo.min.js" type="text/javascript"></script>
    <link href="https://unpkg.com/gijgo@1.9.14/css/gijgo.min.css" rel="stylesheet" type="text/css" />

    <!-- Bootstrap core CSS -->
<link href="/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

  <!-- Custom styles for this template -->
  <link href="/css/carousel.css" rel="stylesheet">



<script>



function updateCheckboxState() {
    const checkbox = document.getElementById("acceptPDPA");
    const hiddenInput = document.querySelector('input[type="hidden"][name="acceptPDPA"]');
    
    if (checkbox.checked) {
        hiddenInput.value = "Y";
    } else {
        hiddenInput.value = "N";
    }
    updateRegisterButtonState();
}

function updateRegisterButtonState() {
    const div = document.getElementById("comment");
    const registerButton = document.getElementById("registerButton");
    const checkbox = document.getElementById("acceptPDPA");

    if (div.scrollTop + div.clientHeight === div.scrollHeight && checkbox.checked) {
      registerButton.removeAttribute("disabled"); // enable the button
    } else {
      registerButton.setAttribute("disabled", "disabled"); // disable the button
    }
}

// call this function on checkbox click
document.getElementById("acceptPDPA").addEventListener("click", updateCheckboxState);

// call this function on div scroll
document.getElementById("comment").addEventListener("scroll", updateRegisterButtonState);





  // ฟังก์ชันนี้จะถูกเรียกเมื่อมีการเปลี่ยนแปลงในฟิลด์ input
  function restrictToNumbers(event) {
    // ให้รับคีย์ตัวเลข 0-9, backspace (8), และ delete (46)
    if (event.keyCode < 48 || event.keyCode > 57) {
      event.preventDefault(); // ยกเลิกการป้อนอักขระที่ไม่ใช่ตัวเลข
    }
  }

  // ฟังก์ชันนี้จะถูกเรียกเมื่อมีการเปลี่ยนแปลงในฟิลด์ input หลังจากผู้ใช้กรอกข้อมูล
  function limitToTenDigits(event) {
    var input = event.target;
    if (input.value.length > 10) {
      input.value = input.value.slice(0, 10); // จำกัดความยาวของข้อมูลที่ใส่เป็น 10 ตัวเลข
    }
  }

  function recordTime() {
    const currentTime = new Date();
    const formattedTime = currentTime.toLocaleString(); // แปลงเวลาให้อยู่ในรูปแบบที่ต้องการ
    console.log('เวลาที่กดปุ่ม: ', formattedTime);
    
    // นำเวลานี้ไปใช้งานตามที่คุณต้องการ เช่น บันทึกใน MongoDB

    const idCardFileInput = document.querySelector('[name="idCardFile"]');
      

}





</script>



    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
    </style>



    <!-- Custom styles for this template -->
    <link href="form-validation.css" rel="stylesheet">
  





  <body class="bg-light">
    
<div class="container">





  <main>


 

    <div class="py-5 text-center">
      <h2>Registration form</h2>
      <p class="lead">Become HP ........</p>
    </div>

    <div class="row g-5">
      <div class="col-12 col-md-8 mx-auto">
        <form action="/user/registerAgent" method="POST" enctype="multipart/form-data">

          <% if(errors != null && errors.length > 0) { %>
            <% for(let i = 0; i < errors.length; i++) { %>
                <p class="alert alert-danger">
                    <%= errors[i] %>
                </p>
            <% } %>
        <% } %>

          <div class="row g-3">
            <div class="col-sm-6">
              <label for="firstName" class="form-label">ชื่อจริง</label>
              <input type="text" class="form-control" name="firstName" id="firstName" placeholder="" value="<%= firstName %>" required>
              <div class="invalid-feedback">
                Valid first name is required.
              </div>
            </div>

            <div class="col-sm-6">
              <label for="lastName" class="form-label">นามสกุล</label>
              <input type="text" class="form-control" name="lastName" id="lastName" placeholder="" value="<%= lastName %>" required>
              <div class="invalid-feedback">
                Valid last name is required.
              </div>
            </div>

        
            <div class="col-12 col-md-6">
              <label for="email" class="form-label">Email</label>
              <input type="email" name="email" class="form-control" id="email" value="<%= email %>" placeholder="you@example.com" required>
              <div class="invalid-feedback">
                Please enter a valid email address for register.
              </div>
            </div>

         

            <div class="col-12 col-md-6">
                <label for="address" class="form-label">หมายเลขโทรศัพท์</label>
                <input type="text" name="phonenumber" class="form-control" id="phonenumber" value="<%= phonenumber %>" placeholder="08x-xxxxxxx" required onkeypress="restrictToNumbers(event)" oninput="limitToTenDigits(event)">
                <div class="invalid-feedback">
                  Please enter your phone number.
                </div>
              </div>





            <div class="col-12 col-md-8">
              <label for="address" class="form-label">ที่อยู่</label>
              <input type="text" class="form-control" name="address" id="address" value="<%= address %>" placeholder="1234 Main St" required>
              <div class="invalid-feedback">
                Please enter your address.
              </div>
            </div>
            <div class="col-12 col-md-4">
              <label for="province" class="form-label">จังหวัด</label>
                <select class="form-control select" name="province" value="<%= province %>" data-mdb-filter="true">
                  <option value="" disabled selected>กรุณาเลือกจังหวัด</option>
                  <option value="กรุงเทพมหานคร">กรุงเทพมหานคร</option>
                  <option value="กระบี่">กระบี่</option>
                  <option value="กาญจนบุรี">กาญจนบุรี</option>
                  <option value="กาฬสินธุ์">กาฬสินธุ์</option>
                  <option value="กำแพงเพชร">กำแพงเพชร</option>
              </select>
            </div>


          

            <div class="col-12 mt-4">
              <div class="mb-3">
                <label for="formFile" class="form-label">แนบไฟล์สำเนาบัตรประชาชน</label>
                <input type="file" class="form-control" name="idCardFile" required>
             
              </div>
            </div>
            <div class="col-12">
              <div class="mb-3">
                <label for="formFile" class="form-label">แนบไฟล์สำเนา Book bank</label>
                <input type="file" class="form-control" name="bookBankFile" required>
              </div>
            </div> 



          </div>

          <input type="hidden" id="confirmFlag" name="confirmFlag" value="N">


          <div class="mb-3 mt-3">
            <label for="comment">นโยบายการคุ้มครองข้อมูลส่วนบุคคล:</label>
            <div class="form-control" style="height: 150px; overflow-y: auto;" id="comment" onscroll="updateRegisterButtonState()" contenteditable="true">
            นโยบายการคุ้มครองข้อมูลส่วนบุคคลและรักษาความลับของ บริษัท โคเวย์ (ประเทศไทย) จากัด
                1. ข้อมลู ส่วนบุคคล <br><br><br><br><br><br>
                1. ข้อมลู ส่วนบุคคล <br><br><br><br><br><br>
                “ขอ้มลูสว่นบคุคล”หมํายถึงขอ้มลูที่สํามํารถระบตุวัตนของทํา่นหรอือําจจะระบตุวัตนของทํา่นได้ไมว่ํา่ทํางตรงหรอืทํางออ้ม”
               </div>
          </div>


          
          <div class="form-check">

            <input type="hidden" name="acceptPDPA" value="N">
            <input type="checkbox" class="form-check-input" name="acceptPDPA" id="acceptPDPA" value="Y" onclick="updateRegisterButtonState()">
            <label class="form-form-validation.css-label">ฉันยอมรับ ข้อตกลงและเงื่อนไข และ นโยบายความเป็นส่วนตัว</label>
          </div>
          


          <hr class="my-4">


          <button class="w-100 btn btn-primary btn-lg" type="submit" id="registerButton" onclick="recordTime()" disabled>ลงทะเบียน</button>

          <br><br><br><br>


        
        </form>
      </div>
    </div>
  </main>

</div>



<script src="/js/bootstrap.bundle.min.js"></script>



  </body>
</html>
